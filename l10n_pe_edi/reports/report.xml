<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="l10n_pe_edi_paperformat_ticket" model="report.paperformat">
        <field name="name">Ticket format customer invoice</field>
        <field name="default" eval="True"/>
        <field name="format">custom</field>
        <field name="page_height">100</field>
        <field name="page_width">80</field>
        <field name="orientation">Portrait</field>
        <field name="margin_top">0</field>
        <field name="margin_bottom">0</field>
        <field name="margin_left">0</field>
        <field name="margin_right">3</field>
        <field name="header_line" eval="False"/>
        <field name="header_spacing">1</field>
        <field name="dpi">215</field>
    </record>

    <report
        id="pe_report_invoice"
        model="account.invoice"
        string="Invoice Ticket Format"
        report_type="qweb-pdf"
        name="l10n_pe_edi.l10n_pe_edi_report_invoice"
        file="l10n_pe_edi.l10n_pe_edi_report_invoice"
        attachment="(object.state in ('open','paid')) and ((object.number or '')+'.pdf')"
    />

    <record id="pe_report_invoice" model="ir.actions.report.xml">
        <field name="paperformat_id" ref="l10n_pe_edi_paperformat_ticket"/>
        <field name="print_report_name">(object.state in ('open','paid')) and ((object.number or '')+'.pdf') or (object.state in ('draft') and 'Invoice.pdf')</field>
    </record>
</odoo>
